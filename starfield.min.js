!function(t){"use strict";var i={target:null,fullPage:!0,autostart:!0,zIndex:-1,backgroundColor:"#000000",starColor:"#FFFFFF",starCount:800,speed:10,trailLength:10,mobileSpeedMultiplier:.5,desktopSpeedMultiplier:1.1,mobileTrailMultiplier:.65,desktopTrailMultiplier:1,mobileBreakpoint:900,dprCap:2};function e(t,i,e,s,r){return s+(r-s)*((t-i)/(e-i))}function s(t){if(this.options=Object.assign({},i,t||{}),this.target=function t(i){if(!i)return document.body;if("string"==typeof i){var e=document.querySelector(i);if(!e)throw Error('Starfield: target selector "'+i+'" was not found.');return e}if(i&&1===i.nodeType)return i;throw Error("Starfield: target must be an Element or selector string.")}(this.options.target),t&&Object.prototype.hasOwnProperty.call(t,"fullPage")?this.fullPage=!!t.fullPage:this.fullPage=this.target===document.body||this.target===document.documentElement,this.canvas=document.createElement("canvas"),this.canvas.setAttribute("aria-hidden","true"),this.ctx=this.canvas.getContext("2d"),!this.ctx)throw Error("Starfield: failed to get 2D context.");this.stars=[],this.width=0,this.height=0,this.centerX=0,this.centerY=0,this.maxDepth=0,this.speedMultiplier=this.options.desktopSpeedMultiplier,this.trailLength=this.options.trailLength*this.options.desktopTrailMultiplier,this.lastTime=0,this.running=!1,this.rafId=null,this.resizeObserver=null,this.mutatedTargetPosition=!1,this.originalTargetPosition="",this.onResize=this.resize.bind(this),this.onAnimate=this.animate.bind(this),this.applyCanvasStyles(),this.mountCanvas(),this.initStars(),this.resize(),this.attachListeners(),this.options.autostart&&this.start()}s.prototype.applyCanvasStyles=function(){var i=this.canvas.style;if(i.display="block",i.pointerEvents="none",i.zIndex=String(this.options.zIndex),this.fullPage){i.position="fixed",i.inset="0",i.width="100vw",i.height="100vh";return}"static"===t.getComputedStyle(this.target).position&&(this.originalTargetPosition=this.target.style.position,this.target.style.position="relative",this.mutatedTargetPosition=!0),i.position="absolute",i.inset="0",i.width="100%",i.height="100%"},s.prototype.mountCanvas=function(){this.target.appendChild(this.canvas)},s.prototype.attachListeners=function(){t.addEventListener("resize",this.onResize,{passive:!0}),!this.fullPage&&t.ResizeObserver&&(this.resizeObserver=new t.ResizeObserver(this.onResize),this.resizeObserver.observe(this.target))},s.prototype.detachListeners=function(){t.removeEventListener("resize",this.onResize),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)},s.prototype.isMobileViewport=function(){return t.matchMedia("(pointer: coarse)").matches||Math.min(t.innerWidth,t.innerHeight)<this.options.mobileBreakpoint},s.prototype.getDpr=function(){var i=t.devicePixelRatio||1,e=this.options.dprCap;return"number"==typeof e&&e>0?Math.min(i,e):i},s.prototype.initStars=function(){this.stars.length=0;for(var t=0;t<this.options.starCount;t+=1)this.stars.push(this.createStar(!0))},s.prototype.createStar=function(t){var i={x:0,y:0,z:0,pz:0};return this.resetStar(i,t),i},s.prototype.resetStar=function(t,i){var e=i?Math.random()*this.maxDepth:this.maxDepth;t.x=(Math.random()*this.width-this.width/2)*2,t.y=(Math.random()*this.height-this.height/2)*2,t.z=e,t.pz=e},s.prototype.projectX=function(t,i){return e(t/i,0,1,0,this.width/2)+this.centerX},s.prototype.projectY=function(t,i){return e(t/i,0,1,0,this.height/2)+this.centerY},s.prototype.isOffscreen=function(t,i){return t<0||t>this.width||i<0||i>this.height},s.prototype.updateStar=function(t,i){if(t.z-=this.options.speed*this.speedMultiplier*i,t.z<1)return this.resetStar(t,!1),!1;var e=this.projectX(t.x,t.z),s=this.projectY(t.y,t.z);return!this.isOffscreen(e,s)||(this.resetStar(t,!1),!1)},s.prototype.drawStar=function(t){var i,s=this.projectX(t.x,t.z),r=this.projectY(t.y,t.z),h=Math.min(this.maxDepth,t.pz+this.trailLength),n=this.projectX(t.x,h),o=this.projectY(t.y,h);this.ctx.beginPath(),this.ctx.strokeStyle=this.options.starColor,this.ctx.lineWidth=Math.max(.1,Math.min(3,i=e(t.z,0,this.maxDepth,3,0))),this.ctx.moveTo(n,o),this.ctx.lineTo(s,r),this.ctx.stroke(),t.pz=t.z},s.prototype.resize=function(){this.fullPage?(this.width=t.innerWidth,this.height=t.innerHeight):(i=this.target.getBoundingClientRect(),this.width=Math.max(1,Math.floor(i.width)),this.height=Math.max(1,Math.floor(i.height))),this.centerX=this.width/2,this.centerY=this.height/2,this.maxDepth=Math.max(this.width,this.height);var i,e=this.isMobileViewport();this.speedMultiplier=e?this.options.mobileSpeedMultiplier:this.options.desktopSpeedMultiplier,this.trailLength=this.options.trailLength*(e?this.options.mobileTrailMultiplier:this.options.desktopTrailMultiplier);var s=this.getDpr();this.canvas.width=Math.floor(this.width*s),this.canvas.height=Math.floor(this.height*s),this.ctx.setTransform(s,0,0,s,0,0);for(var r=0;r<this.stars.length;r+=1)this.resetStar(this.stars[r],!0)},s.prototype.animate=function(i){if(this.running){this.lastTime||(this.lastTime=i);var e=Math.min(64,i-this.lastTime);this.lastTime=i;var s=e/(1e3/60);this.ctx.fillStyle=this.options.backgroundColor,this.ctx.fillRect(0,0,this.width,this.height);for(var r=0;r<this.stars.length;r+=1){var h=this.stars[r];this.updateStar(h,s)&&this.drawStar(h)}this.rafId=t.requestAnimationFrame(this.onAnimate)}},s.prototype.start=function(){!this.running&&(this.running=!0,this.lastTime=0,this.rafId=t.requestAnimationFrame(this.onAnimate))},s.prototype.stop=function(){this.running&&(this.running=!1,null!==this.rafId&&(t.cancelAnimationFrame(this.rafId),this.rafId=null))},s.prototype.destroy=function(){this.stop(),this.detachListeners(),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.mutatedTargetPosition&&(this.target.style.position=this.originalTargetPosition,this.mutatedTargetPosition=!1)},t.Starfield=s}(window);